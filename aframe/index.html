<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>A-Frame test</title>
    <meta name="description" content="360&deg; Image Gallery - A-Frame">
    <script src="https://aframe.io/releases/0.4.0/aframe.min.js"></script>
    <script src="https://npmcdn.com/aframe-animation-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-event-set-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-layout-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-template-component@3.1.1"></script>
    <script src="https://rawgit.com/bryik/aframe-bmfont-text-component/master/dist/aframe-bmfont-text-component.min.js"></script>
    <script src="components/show-text.js"></script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <!-- Assets -->
        <audio id="click-sound" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/audio/click.ogg"></audio>
        <img id="sky" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg">

        <!-- Templates -->
        <script id="hotspot" type="text/html">
          <a-entity 
             class="hotspot"
             material="color: green;"
             geometry="primitive: sphere"
             scale="0.1 0.1 0.1"
             show-text="target: ${target}"
             sound="on: click; src: #click-sound">
          </a-entity>
        </script>

        <script id="hotspot-text" type="text/html">
          <a-entity 
             class="hotspot-text"
             bmfont-text="color: #BBB"
             visible="false"
          </a-entity>
        </script>
      </a-assets>

      <!-- Entities -->
      <a-sky id="image-360" radius="10" src="#sky"></a-sky>

      <!-- Todo: better positioning & rotation -->
      <a-entity id="hs1" template="src: #hotspot" position="1 0 -2" data-target="#hs1-text"></a-entity>
      <a-entity id="hs1-text" bmfont-text="text: teksti-komponentti on buginen; color: #FFF" position="1.1 0 -2" visible="false"></a-entity>

      <a-entity id="hs2" template="src: #hotspot" position="-1 1 -2" data-target="#hs2-text"></a-entity>
      <a-entity id="hs2-text" bmfont-text="text: ääkköset on tärkeitä; color: #FFF" position="-0.9 1 -2" visible="false"></a-entity>      
            
      <a-entity camera look-controls wasd-controls>
        <a-cursor 
           id="cursor"
           color="red"
           event-set__1="_event: mouseenter; color: springgreen"
           event-set__2="_event: mouseleave; color: red"
           raycaster="objects: .hotspot">
        </a-cursor>
      </a-entity>
    </a-scene>
  </body>
</html>
